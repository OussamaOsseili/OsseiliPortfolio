<!doctype html>
<html lang="en"
      x-data="win11()"
      x-init="init()"
      :class="theme"
      @mousemove.window="onDrag"
      @mouseup.window="endDrag">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Oussama Osseili ‚Äî Windows 11 Portfolio</title>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Alpine.js -->
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --acrylic-dark: rgba(17, 24, 39, .6);
      --acrylic-light: rgba(255, 255, 255, .65);
    }
    html { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }

    /* Interactive wallpaper canvas sits behind everything */
    #wallpaperCanvas{
      position: fixed; inset: 0;
      z-index: -3;            /* far back */
      pointer-events: none;   /* doesn't block clicks */
    }
    /* Soft tint vignette on top of canvas for legibility */
    #wallpaperTint{
      content:""; position: fixed; inset: 0; z-index: -2;
      pointer-events: none;
      background: radial-gradient(1200px 800px at 10% -10%, rgba(255,255,255,.06), rgba(0,0,0,.25));
      mix-blend-mode: soft-light;
    }
    /* Optional headline overlay with subtle parallax */
    #aboutOverlay{
      position: fixed; inset: 0; z-index: -1;
      pointer-events: none; display: grid; place-items: center;
      text-align: center;
    }
    .aboutBadge{
      display:inline-block; margin:.25rem; padding:.35rem .6rem;
      border-radius: .75rem; font-size:.85rem;
      background: rgba(255,255,255,.12);
      backdrop-filter: blur(6px);
    }

    .acrylic { backdrop-filter: blur(18px) saturate(120%); -webkit-backdrop-filter: blur(18px) saturate(120%); }
    .glass-dark { background: var(--acrylic-dark); }
    .glass-light { background: var(--acrylic-light); }
    .w11-window { border-radius: 14px; box-shadow: 0 30px 70px rgba(0,0,0,.35); }
    .w11-title { cursor: move; user-select: none; }
    .w11-btn { width: 36px; height: 28px; border-radius: 8px; }
    .w11-btn:hover { background: rgba(255,255,255,.08); }
    .light .w11-btn:hover { background: rgba(0,0,0,.06); }
    .taskbar { height: 52px; border-top: 1px solid rgba(255,255,255,.08); }
    .light .taskbar { border-top-color: rgba(0,0,0,.08); }
    .task-icon { width: 40px; height: 40px; border-radius: 10px; display: grid; place-items: center; }
    .task-icon:hover { background: rgba(255,255,255,.08); }
    .light .task-icon:hover { background: rgba(0,0,0,.06); }
    .desktop-icon img { filter: drop-shadow(0 8px 20px rgba(0,0,0,.25)); }
    .desktop-icon:hover { transform: translateY(-2px); }
    [x-cloak]{ display:none !important; }
    .dragging { user-select: none !important; }
  </style>
</head>

<body class="min-h-screen text-gray-100 light:text-gray-900">

  <!-- Interactive Wallpaper (canvas + tint + text overlay) -->
  <canvas id="wallpaperCanvas"></canvas>
  <div id="wallpaperTint"></div>

  <!-- About overlay content (moves slightly with mouse) -->
  <div id="aboutOverlay" class="text-white">
    <div class="px-6">
      <h1 class="text-3xl sm:text-4xl md:text-5xl font-semibold drop-shadow-sm">Oussama Osseili</h1>
      <p class="mt-2 opacity-90 text-sm sm:text-base">Final-year MIAGE engineering student ‚Äî EMSI Rabat</p>
      <div class="mt-3">
        <span class="aboutBadge">Software</span>
        <span class="aboutBadge">Data/AI</span>
        <span class="aboutBadge">Cloud/DevOps</span>
        <span class="aboutBadge">ERP/BPMN</span>
        <span class="aboutBadge">Sports Analytics</span>
      </div>
      <p class="mt-3 text-xs sm:text-sm opacity-90">
        <a href="mailto:osseilioussamabusi@gmail.com" class="underline">osseilioussamabusi@gmail.com</a> ¬∑
        <a href="https://www.linkedin.com/in/oussama-osseili" target="_blank" class="underline">LinkedIn</a> ¬∑
        <a href="https://github.com/OussamaOsseili" target="_blank" class="underline">GitHub</a>
      </p>
    </div>
  </div>

  <!-- Desktop -->
  <main class="relative h-[100svh] overflow-hidden">

    <!-- Desktop icons -->
    <section class="absolute inset-0 p-5 grid grid-cols-4 sm:grid-cols-6 lg:grid-cols-8 gap-6 content-start select-none">
      <!-- About (now redundant, opens small note) -->
      <button class="desktop-icon flex flex-col items-center gap-2 transition"
              @dblclick="openApp('about')" title="About">
        <img class="w-12 h-12" alt="" src="https://api.iconify.design/fluent/person-12-regular.svg?color=white">
        <span class="text-[13px] text-center">About</span>
      </button>

      <!-- Projects -->
      <button class="desktop-icon flex flex-col items-center gap-2 transition"
              @dblclick="openApp('projects')" title="Projects">
        <img class="w-12 h-12" alt="" src="https://api.iconify.design/fluent/apps-24-regular.svg?color=white">
        <span class="text-[13px] text-center">Projects</span>
      </button>

      <!-- Resume (upload resume.pdf to enable) -->
      <button class="desktop-icon flex flex-col items-center gap-2 transition"
              @dblclick="openLink('/OussamaOsseili/resume.pdf')" title="R√©sum√© (PDF)">
        <img class="w-12 h-12" alt="" src="https://api.iconify.design/fluent/document-24-regular.svg?color=white">
        <span class="text-[13px] text-center">Resume</span>
      </button>

      <!-- GitHub -->
      <button class="desktop-icon flex flex-col items-center gap-2 transition"
              @dblclick="openLink('https://github.com/OussamaOsseili')" title="GitHub">
        <img class="w-12 h-12" alt="" src="https://api.iconify.design/mdi/github.svg?color=white">
        <span class="text-[13px] text-center">GitHub</span>
      </button>

      <!-- LinkedIn -->
      <button class="desktop-icon flex flex-col items-center gap-2 transition"
              @dblclick="openLink(linkedin)" title="LinkedIn">
        <img class="w-12 h-12" alt="" src="https://api.iconify.design/mdi/linkedin.svg?color=white">
        <span class="text-[13px] text-center">LinkedIn</span>
      </button>

      <!-- Contact -->
      <button class="desktop-icon flex flex-col items-center gap-2 transition"
              @dblclick="openApp('contact')" title="Contact">
        <img class="w-12 h-12" alt="" src="https://api.iconify.design/fluent/mail-24-regular.svg?color=white">
        <span class="text-[13px] text-center">Contact</span>
      </button>

      <!-- Sections -->
      <button class="desktop-icon flex flex-col items-center gap-2 transition"
              @dblclick="openApp('data')" title="Data & AI">
        <img class="w-12 h-12" alt="" src="https://api.iconify.design/fluent/data-area-24-regular.svg?color=white">
        <span class="text-[13px] text-center">Data & AI</span>
      </button>

      <button class="desktop-icon flex flex-col items-center gap-2 transition"
              @dblclick="openApp('devops')" title="Cloud & DevOps">
        <img class="w-12 h-12" alt="" src="https://api.iconify.design/mdi/docker.svg?color=white">
        <span class="text-[13px] text-center">Cloud & DevOps</span>
      </button>

      <button class="desktop-icon flex flex-col items-center gap-2 transition"
              @dblclick="openApp('erp')" title="ERP / BPMN">
        <img class="w-12 h-12" alt="" src="https://api.iconify.design/fluent/branch-fork-24-regular.svg?color=white">
        <span class="text-[13px] text-center">ERP / BPMN</span>
      </button>

      <button class="desktop-icon flex flex-col items-center gap-2 transition"
              @dblclick="openApp('sports')" title="Sports Analytics">
        <img class="w-12 h-12" alt="" src="https://api.iconify.design/fluent/sport-soccer-24-regular.svg?color=white">
        <span class="text-[13px] text-center">Sports Analytics</span>
      </button>
    </section>

    <!-- Windows -->
    <template x-for="w in windows" :key="w.id">
      <section x-show="w.open"
               class="w11-window acrylic absolute overflow-hidden border border-white/10 light:border-black/10"
               :class="theme==='light' ? 'glass-light' : 'glass-dark'"
               :style="{left:w.x+'px', top:w.y+'px', width:w.w+'px', height:w.h+'px', zIndex:w.z}"
               @mousedown="focus(w.id)">

        <!-- Titlebar -->
        <div class="w11-title px-3 py-2 flex items-center justify-between bg-white/5 light:bg-black/[.04]"
             @mousedown.prevent="startDrag($event, w.id)">
          <div class="flex items-center gap-3">
            <img src="avatar.jpg" alt="" class="w-8 h-8 rounded-lg object-cover bg-white/10 light:bg-black/10" onerror="this.style.display='none'">
            <h3 class="font-medium text-sm md:text-base" x-text="w.title"></h3>
          </div>
          <div class="flex items-center">
            <button class="w11-btn" title="Minimize" @click.stop="minimize(w.id)">&#8211;</button>
            <button class="w11-btn" title="Maximize" @click.stop="maximize(w.id)">&#9723;</button>
            <button class="w11-btn" title="Close"     @click.stop="close(w.id)">&#10005;</button>
          </div>
        </div>

        <!-- Window content -->
        <div class="p-4 overflow-auto h-[calc(100%-44px)] text-sm leading-relaxed">

          <!-- About (now just a note) -->
          <div x-show="w.key==='about'">
            <h4 class="text-lg font-semibold">About is now the wallpaper üéâ</h4>
            <p class="mt-2 opacity-90">
              Your background shows your name, title, skills and links as a live animated wallpaper.
              Use the Start menu ‚Üí ‚ÄúWallpaper: Pause/Play‚Äù to control it.
            </p>
          </div>

          <!-- Projects -->
          <div x-show="w.key==='projects'">
            <h4 class="text-lg font-semibold">Projects</h4>
            <div class="mt-3 grid md:grid-cols-2 gap-3">
              <template x-for="p in projects" :key="p.title">
                <article class="p-3 rounded-xl bg-white/5 light:bg-black/[.04] border border-white/10 light:border-black/10">
                  <h5 class="font-medium" x-text="p.title"></h5>
                  <p class="opacity-90 mt-1" x-text="p.desc"></p>
                  <p class="opacity-70 mt-1 text-xs" x-text="'Stack: ' + p.stack"></p>
                  <div class="mt-2 flex flex-wrap gap-2">
                    <template x-if="p.repo"><a class="px-3 py-1.5 rounded-lg border border-white/10 light:border-black/10 hover:bg-white/10 light:hover:bg-black/[.06]" :href="p.repo" target="_blank">Repository</a></template>
                    <template x-if="p.demo"><a class="px-3 py-1.5 rounded-lg border border-white/10 light:border-black/10 hover:bg-white/10 light:hover:bg-black/[.06]" :href="p.demo" target="_blank">Live Demo</a></template>
                  </div>
                </article>
              </template>
            </div>

            <!-- Experience -->
            <h5 class="mt-5 font-semibold">Experience</h5>
            <div class="mt-2 grid md:grid-cols-2 gap-3">
              <!-- ONEE -->
              <div class="p-3 rounded-xl bg-white/5 light:bg-black/[.04] border border-white/10 light:border-black/10">
                <b>Project Intern ‚Äî Office National de l‚Äô√âlectricit√© et de l‚ÄôEau Potable (ONEE), Branche √âlectricit√©</b>
                <span class="opacity-70"> ‚Ä¢ juil. 2025 ‚Äì sept. 2025 ¬∑ 3 mois ¬∑ Maroc ¬∑ Sur site</span>
                <p class="opacity-90 mt-2">
                  Plateforme web de <b>maintenance des postes HTB</b> pour remplacer le suivi Excel.
                </p>
                <ul class="mt-2 list-disc ml-5 space-y-1 opacity-90">
                  <li>RBAC : authentification & r√¥les (Admin, Chef Maintenance, Chef Contr√¥le‚Ä¶)</li>
                  <li>Gestion √©quipements : CRUD, cat√©gories, √©tats Vert/Jaune/Rouge, historique</li>
                  <li>Planification : calendrier, ordres de travail, priorit√©s</li>
                  <li>Import Excel (.xlsx) via <b>Apache POI</b>, validation & logs</li>
                  <li>Reporting PDF, dashboards, <b>sch√©ma unifilaire</b> interactif</li>
                </ul>
                <p class="opacity-80 text-xs mt-2">
                  Stack : <b>Spring Boot 3.5.4 (Java 17, JPA, SQLite, REST)</b> ¬∑ <b>React (Vite)</b>, Tailwind, Axios, React Router
                </p>
              </div>

              <!-- PROWED -->
              <div class="p-3 rounded-xl bg-white/5 light:bg-black/[.04] border border-white/10 light:border-black/10">
                <b>Python Full-Stack Developer (Django/Flask) ‚Äî PROWED Media SARL</b>
                <span class="opacity-70"> ‚Ä¢ 4 semaines</span>
                <p class="opacity-90 mt-2">
                  D√©veloppement et am√©lioration de plateformes internes ; supervision temps r√©el et centralisation des donn√©es pour optimiser ventes & op√©rations.
                </p>
                <p class="opacity-80 text-xs mt-2">
                  Stack : <b>Django / Flask</b>, Python, JS, Git, Docker
                </p>
              </div>
            </div>
          </div>

          <!-- Contact -->
          <div x-show="w.key==='contact'">
            <h4 class="text-lg font-semibold">Contact</h4>
            <div class="mt-3 flex flex-col sm:flex-row gap-3">
              <input class="flex-1 px-3 py-2 rounded-lg bg-white/10 light:bg-black/[.04] border border-white/10 light:border-black/10"
                     :value="email" readonly>
              <button class="px-3 py-2 rounded-lg bg-emerald-600 hover:opacity-90"
                      @click="copy(email)">Copy Email</button>
              <a class="px-3 py-2 rounded-lg border border-white/10 light:border-black/10 hover:bg-white/10 light:hover:bg-black/[.06]"
                 :href="linkedin" target="_blank">LinkedIn</a>
              <a class="px-3 py-2 rounded-lg border border-white/10 light:border-black/10 hover:bg-white/10 light:hover:bg-black/[.06]"
                 href="https://github.com/OussamaOsseili" target="_blank">GitHub</a>
            </div>
            <p class="mt-2 opacity-80 text-sm">Phone: +212 6 24 74 66 25</p>
          </div>

          <!-- Data & AI -->
          <div x-show="w.key==='data'">
            <h4 class="text-lg font-semibold">Data & AI</h4>
            <div class="mt-3 grid md:grid-cols-2 gap-3">
              <div class="p-3 rounded-xl bg-white/5 light:bg-black/[.04]">
                <h5 class="font-medium">What I do</h5>
                <ul class="mt-2 list-disc ml-5 space-y-1 opacity-90">
                  <li>ETL: ingestion ‚Üí cleaning ‚Üí feature engineering (Pandas/NumPy)</li>
                  <li>EDA & viz: descriptive stats, correlations, interactive charts (Plotly)</li>
                  <li>ML basics: regression & classification (scikit-learn), cross-val & metrics</li>
                  <li>SQL modelling: star schema, indexing, simple analytical queries</li>
                  <li>Reproducible notebooks + clear README & env files</li>
                </ul>
              </div>

              <div class="p-3 rounded-xl bg-white/5 light:bg-black/[.04]">
                <h5 class="font-medium">Stack & tools</h5>
                <p class="mt-2 opacity-90">
                  <b>Python</b> (Pandas, NumPy, scikit-learn) ¬∑ <b>Jupyter</b> ¬∑ <b>Plotly</b> ¬∑
                  <b>SQL</b> (SQLite/MySQL) ¬∑ <b>Git</b> ¬∑ <b>Docker</b>
                </p>
                <h5 class="mt-3 font-medium">Mini-deliverables</h5>
                <ul class="mt-2 list-disc ml-5 space-y-1 opacity-90">
                  <li><b>eda-retail/</b> ‚Äî ETL + EDA on public sales data, 5‚Äì6 plots, short insights</li>
                  <li><b>ml-baselines/</b> ‚Äî classification baselines (logreg, RF) + report</li>
                  <li><b>sql-analytics/</b> ‚Äî small star schema + window queries</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Cloud & DevOps -->
          <div x-show="w.key==='devops'">
            <h4 class="text-lg font-semibold">Cloud & DevOps</h4>
            <div class="mt-3 grid md:grid-cols-2 gap-3">
              <div class="p-3 rounded-xl bg-white/5 light:bg-black/[.04]">
                <h5 class="font-medium">What I set up</h5>
                <ul class="mt-2 list-disc ml-5 space-y-1 opacity-90">
                  <li>Containers: <b>Docker</b> & Compose for local/dev parity</li>
                  <li>CI/CD: <b>GitHub Actions</b> (lint ‚Üí test ‚Üí build ‚Üí push image ‚Üí deploy)</li>
                  <li>Envs & secrets: per-branch configs, env files, GH secrets</li>
                  <li>Deploy: static sites (Pages) + simple app deploys (Render/Railway)</li>
                  <li>Ops basics: logs, healthchecks, rollbacks, monitoring</li>
                </ul>
              </div>
              <div class="p-3 rounded-xl bg-white/5 light:bg-black/[.04]">
                <h5 class="font-medium">Stack & files</h5>
                <p class="mt-2 opacity-90">
                  <b>Docker</b>, <b>Docker Compose</b>, <b>GitHub Actions</b>, Nginx basics, Linux/CLI
                </p>
                <h5 class="mt-3 font-medium">Mini-deliverables</h5>
                <ul class="mt-2 list-disc ml-5 space-y-1 opacity-90">
                  <li><b>.github/workflows/ci.yml</b> ‚Äî pipeline for lint/test/build</li>
                  <li><b>Dockerfile</b> + <b>docker-compose.yml</b> ‚Äî multi-service dev stack</li>
                  <li><b>deploy-notes.md</b> ‚Äî playbook: run, roll back, rotate secrets</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- ERP / BPMN -->
          <div x-show="w.key==='erp'">
            <h4 class="text-lg font-semibold">ERP / BPMN</h4>
            <div class="mt-3 grid md:grid-cols-2 gap-3">
              <div class="p-3 rounded-xl bg-white/5 light:bg-black/[.04]">
                <h5 class="font-medium">What I model</h5>
                <ul class="mt-2 list-disc ml-5 space-y-1 opacity-90">
                  <li>BPMN 2.0: <b>Order-to-Cash</b>, <b>Procure-to-Pay</b>, inventory</li>
                  <li>Swimlanes: r√¥les, √©v√©nements, r√®gles, exceptions & escalades</li>
                  <li>Contr√¥les & risques: s√©paration des t√¢ches, validations</li>
                  <li>Data model: Clients, Articles, Commandes, Factures + cl√©s</li>
                  <li>Traceability: statuts, journaux d‚Äôaudit, KPIs simples</li>
                </ul>
              </div>
              <div class="p-3 rounded-xl bg-white/5 light:bg-black/[.04]">
                <h5 class="font-medium">Outils & artefacts</h5>
                <p class="mt-2 opacity-90">
                  <b>BPMN</b> (Bizagi/Draw.io), <b>UML</b>, <b>SQL</b> (schema & contraintes)
                </p>
                <h5 class="mt-3 font-medium">Mini-deliverables</h5>
                <ul class="mt-2 list-disc ml-5 space-y-1 opacity-90">
                  <li><b>bpmn-order-to-cash/</b> ‚Äî diagrammes + memo r√¥les & contr√¥les</li>
                  <li><b>erp-schema.sql</b> ‚Äî tables Commande/Ligne/Facture/R√®glement</li>
                  <li><b>readme.md</b> ‚Äî sc√©nario bout-en-bout + KPIs</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Sports Analytics -->
          <div x-show="w.key==='sports'">
            <h4 class="text-lg font-semibold">Sports Analytics</h4>
            <div class="mt-3 grid md:grid-cols-2 gap-3">
              <div class="p-3 rounded-xl bg-white/5 light:bg-black/[.04]">
                <h5 class="font-medium">Focus</h5>
                <ul class="mt-2 list-disc ml-5 space-y-1 opacity-90">
                  <li><b>xG</b> baseline (logistic) + calibration</li>
                  <li><b>xT</b> grid & team possession heatmaps</li>
                  <li>Player similarity (PCA + kNN) on event features</li>
                  <li>Streamlit dashboards for exploration</li>
                  <li>Short reports: method, results, limits</li>
                </ul>
              </div>
              <div class="p-3 rounded-xl bg-white/5 light:bg-black/[.04]">
                <h5 class="font-medium">Stack & datasets</h5>
                <p class="mt-2 opacity-90">
                  <b>Python</b> (Pandas, scikit-learn, <b>mplsoccer</b>) ¬∑ <b>Streamlit</b><br>
                  Public data: <b>StatsBomb</b> / <b>Metrica</b> samples
                </p>
                <h5 class="mt-3 font-medium">Mini-deliverables</h5>
                <ul class="mt-2 list-disc ml-5 space-y-1 opacity-90">
                  <li><b>sa-xg/</b> ‚Äî xG notebook + calibration & metrics</li>
                  <li><b>sa-xt/</b> ‚Äî xT grid + occupation maps</li>
                  <li><b>sa-sim/</b> ‚Äî player similarity (PCA/kNN) + report</li>
                </ul>
              </div>
            </div>
          </div>

        </div>
      </section>
    </template>

    <!-- Start menu -->
    <div x-show="startOpen" x-transition x-cloak
         class="absolute left-1/2 -translate-x-1/2 bottom-[68px] w-[700px] max-w-[90vw] acrylic"
         :class="theme==='light' ? 'glass-light' : 'glass-dark'"
         style="border-radius: 16px; border: 1px solid rgba(255,255,255,.1);"
         @click.outside="startOpen=false">
      <div class="p-4">
        <div class="flex items-center gap-3 rounded-[24px] bg-white/10 light:bg-black/[.06] px-4 py-2 border border-white/10 light:border-black/10">
          <svg width="18" height="18" viewBox="0 0 24 24" class="opacity-80"><path fill="currentColor" d="M11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7m8.7 2.3L17 17.6"/></svg>
          <input placeholder="Type to search‚Ä¶" class="flex-1 bg-transparent outline-none placeholder:opacity-60">
        </div>

        <h5 class="mt-4 text-sm opacity-80">Pinned</h5>
        <div class="mt-2 grid grid-cols-6 gap-3 text-[13px]">
          <button class="flex flex-col items-center gap-1 task-icon" @click="openApp('projects')">
            <img class="w-7 h-7" src="https://api.iconify.design/fluent/apps-24-regular.svg?color=white"><span>Projects</span>
          </button>
          <button class="flex flex-col items-center gap-1 task-icon" @click="openApp('data')">
            <img class="w-7 h-7" src="https://api.iconify.design/fluent/data-area-24-regular.svg?color=white"><span>Data</span>
          </button>
          <button class="flex flex-col items-center gap-1 task-icon" @click="openApp('devops')">
            <img class="w-7 h-7" src="https://api.iconify.design/mdi/docker.svg?color=white"><span>DevOps</span>
          </button>
          <button class="flex flex-col items-center gap-1 task-icon" @click="openApp('erp')">
            <img class="w-7 h-7" src="https://api.iconify.design/fluent/branch-fork-24-regular.svg?color=white"><span>ERP</span>
          </button>
          <button class="flex flex-col items-center gap-1 task-icon" @click="openApp('sports')">
            <img class="w-7 h-7" src="https://api.iconify.design/fluent/sport-soccer-24-regular.svg?color=white"><span>Sports</span>
          </button>
        </div>

        <div class="mt-4 flex items-center justify-between">
          <div class="flex items-center gap-3">
            <img src="avatar.jpg" alt="" class="w-9 h-9 rounded-xl object-cover bg-white/10 light:bg-black/[.06]" onerror="this.style.display='none'">
            <div>
              <div class="font-medium leading-tight">Oussama Osseili</div>
              <div class="text-xs opacity-70">MIAGE ‚Äî EMSI Rabat</div>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <button class="px-3 py-1.5 rounded-lg border border-white/10 light:border-black/10 hover:bg-white/10 light:hover:bg-black/[.06]"
                    @click="toggleTheme">Toggle theme</button>
            <button class="px-3 py-1.5 rounded-lg border border-white/10 light:border-black/10 hover:bg-white/10 light:hover:bg-black/[.06]"
                    @click="toggleWallpaper()" x-text="wallpaperPaused ? 'Wallpaper: Play' : 'Wallpaper: Pause'"></button>
          </div>
        </div>
      </div>
    </div>

    <!-- Taskbar -->
    <footer class="taskbar acrylic absolute bottom-0 left-0 right-0"
            :class="theme==='light' ? 'glass-light' : 'glass-dark'">
      <div class="max-w-6xl mx-auto h-full px-3 flex items-center justify-between gap-3">
        <div class="flex-1"></div>
        <div class="flex items-center gap-2">
          <button class="task-icon" @click="startOpen=!startOpen" :aria-pressed="startOpen" title="Start">
            <svg width="22" height="22" viewBox="0 0 48 48"><path fill="currentColor" d="M22 6v16H6V8.7zm20 0v18H24V6zM22 26v16L6 39.3V26zm20 0v16H24V26z"/></svg>
          </button>
          <button class="task-icon" title="Projects" @click="openApp('projects')">
            <img class="w-6 h-6" src="https://api.iconify.design/fluent/folder-24-regular.svg?color=white">
          </button>
          <button class="task-icon" title="Contact" @click="openApp('contact')">
            <img class="w-6 h-6" src="https://api.iconify.design/fluent/mail-24-regular.svg?color=white">
          </button>
        </div>
        <div class="flex-1 flex items-center justify-end gap-3 text-sm">
          <div class="px-3 py-1 rounded-lg bg-white/10 light:bg-black/[.06] border border-white/10 light:border-black/10">
            <span x-text="now"></span>
          </div>
        </div>
      </div>
    </footer>
  </main>

  <script>
    /* ====== Interactive Wallpaper Engine (canvas text drift) ====== */
    (function(){
      const canvas = document.getElementById('wallpaperCanvas');
      const ctx = canvas.getContext('2d');
      let W=0,H=0, DPR=window.devicePixelRatio||1;
      let items = [];
      let paused = false;
      let img = new Image();
      img.src = 'wallpaper.jpg'; // optional; if missing, ignored
      let imgLoaded = false;
      img.onload = ()=>{ imgLoaded = true; };

      const lines = [
        'Oussama Osseili',
        'MIAGE ‚Äî EMSI Rabat',
        'Software ‚Ä¢ Data/AI ‚Ä¢ Cloud/DevOps ‚Ä¢ ERP/BPMN ‚Ä¢ Sports Analytics',
        'Email: osseilioussamabusi@gmail.com',
        'LinkedIn: /in/oussama-osseili',
        'GitHub: @OussamaOsseili'
      ];

      function resize(){
        W = canvas.width  = Math.floor(window.innerWidth * DPR);
        H = canvas.height = Math.floor(window.innerHeight* DPR);
        canvas.style.width  = window.innerWidth + 'px';
        canvas.style.height = window.innerHeight+ 'px';
        // re-seed items for density
        seed();
      }

      function rand(a,b){ return a + Math.random()*(b-a); }

      function seed(){
        items = [];
        const density = Math.max(18, Math.min(36, Math.floor((W/DPR + H/DPR)/80)));
        for(let i=0;i<density;i++){
          const text = lines[i % lines.length];
          const size = rand(12, 28); // px @1x
          const speedX = rand(-0.35, 0.35);
          const speedY = rand(-0.15, 0.15);
          const alpha  = rand(0.25, 0.55);
          const hue = 220 + rand(-10, 30); // bluish accent
          items.push({
            text, x: rand(0, W), y: rand(0, H),
            vx: (speedX===0?0.1:speedX)*DPR,
            vy: (speedY===0?0.05:speedY)*DPR,
            size: size*DPR, alpha, hue
          });
        }
      }

      function drawBackground(){
        // faint image if available
        if(imgLoaded){
          const iw = img.naturalWidth, ih = img.naturalHeight;
          const r = Math.max(W/iw, H/ih);
          const w = iw*r, h = ih*r;
          const x = (W - w)/2, y = (H - h)/2;
          ctx.globalAlpha = 0.15;
          ctx.drawImage(img, x, y, w, h);
          ctx.globalAlpha = 1;
        } else {
          // gradient fallback
          const g = ctx.createRadialGradient(W*0.1, H*0.1, 0, W*0.1, H*0.1, Math.max(W,H));
          g.addColorStop(0,'#10182a'); g.addColorStop(1,'#0b1220');
          ctx.fillStyle = g; ctx.fillRect(0,0,W,H);
        }
      }

      function step(){
        if(paused) return;
        ctx.clearRect(0,0,W,H);
        drawBackground();

        ctx.textBaseline='middle';
        items.forEach(it=>{
          it.x += it.vx; it.y += it.vy;

          // wrap around edges
          if(it.x < -200*DPR) it.x = W + 200*DPR;
          if(it.x > W + 200*DPR) it.x = -200*DPR;
          if(it.y < -50*DPR) it.y = H + 50*DPR;
          if(it.y > H + 50*DPR) it.y = -50*DPR;

          ctx.font = `${it.size}px Inter, system-ui, sans-serif`;
          ctx.fillStyle = `hsla(${it.hue}, 90%, 70%, ${it.alpha})`;
          ctx.fillText(it.text, it.x, it.y);

          // soft glow
          ctx.shadowColor = `hsla(${it.hue}, 90%, 70%, ${Math.min(0.6, it.alpha+0.15)})`;
          ctx.shadowBlur = 6*DPR;
          ctx.fillText(it.text, it.x, it.y);
          ctx.shadowBlur = 0;
        });
      }

      function loop(){
        if(!prefersReduced) step();
        requestAnimationFrame(loop);
      }

      // Parallax for the centered overlay
      const overlay = document.getElementById('aboutOverlay');
      let parX=0, parY=0;
      function onMouseMove(e){
        const rx = (e.clientX / window.innerWidth  - 0.5);
        const ry = (e.clientY / window.innerHeight - 0.5);
        parX = rx * 16; // px
        parY = ry * 12;
        overlay.style.transform = `translate3d(${parX}px, ${parY}px, 0)`;
      }

      // Reduced motion support
      const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
      let prefersReduced = mq.matches;
      mq.onchange = () => { prefersReduced = mq.matches; };

      window.addEventListener('mousemove', onMouseMove, {passive:true});
      window.addEventListener('resize', resize);
      resize(); seed(); loop();

      // expose controls
      window.__wallpaper = {
        pause(){ paused = true; },
        play(){ paused = false; },
        toggle(){ paused = !paused; },
        isPaused(){ return paused; }
      };
    })();
  </script>

  <script>
    function win11(){
      return {
        // state
        theme: (localStorage.getItem('theme') || 'dark'),
        startOpen: false,
        now: '',
        z: 10,
        email: 'osseilioussamabusi@gmail.com',
        linkedin: 'https://www.linkedin.com/in/oussama-osseili',
        wallpaperPaused: false,

        // windows registry
        windows: [
          { id:1, key:'about',    title:'About (Wallpaper)', x:120, y:100, w:520, h:220, z:1, open:false, minimized:false, max:false, prev:null },
          { id:2, key:'projects', title:'Projects',          x:220, y:160, w:820, h:520, z:1, open:true, minimized:false, max:false, prev:null },
          { id:3, key:'contact',  title:'Contact',           x:260, y:200, w:640, h:300, z:1, open:false, minimized:false, max:false, prev:null },
          { id:4, key:'data',     title:'Data & AI',         x:300, y:180, w:580, h:320, z:1, open:false, minimized:false, max:false, prev:null },
          { id:5, key:'devops',   title:'Cloud & DevOps',    x:340, y:220, w:580, h:320, z:1, open:false, minimized:false, max:false, prev:null },
          { id:6, key:'erp',      title:'ERP / BPMN',        x:380, y:240, w:580, h:320, z:1, open:false, minimized:false, max:false, prev:null },
          { id:7, key:'sports',   title:'Sports Analytics',  x:420, y:200, w:580, h:340, z:1, open:false, minimized:false, max:false, prev:null },
        ],

        // your real projects
        projects: [
          {
            title:'Plateforme maintenance HTB ‚Äî ONEE (Stage 4·µâ ann√©e)',
            stack:'Spring Boot 3.5.4 (Java 17, JPA, SQLite, REST) ¬∑ React (Vite), Tailwind, Axios, React Router',
            desc:'Remplacement du suivi Excel par une app web moderne : RBAC, gestion √©quipements, planning, import Excel (Apache POI), reporting PDF, dashboards, sch√©ma unifilaire.',
            repo:'', demo:''
          },
          {
            title:'Plateforme achat/vente voiture',
            stack:'Django, Python, JS, HTML, PHP',
            desc:'Gestion ventes/achats avec supervision temps r√©el et centralisation des donn√©es.',
            repo:'', demo:''
          },
          {
            title:'Application de E-learning',
            stack:'Python, Flask',
            desc:'Plateforme d‚Äôapprentissage avec personnalisation, accessibilit√© et collaboration.',
            repo:'', demo:''
          },
          {
            title:'Application de gestion de restaurant',
            stack:'Python, Flask',
            desc:'Gestion commandes + r√¥les (client, serveur, admin) et back-office.',
            repo:'', demo:''
          },
          {
            title:'Gestion Pharmacie',
            stack:'.NET (ASP.NET/Blazor)',
            desc:'Suivi stocks, patients & m√©dicaments; optimisation des ventes et tra√ßabilit√©.',
            repo:'', demo:''
          },
          {
            title:'Gestion Biblioth√®que',
            stack:'Java, J2EE, Spring',
            desc:'Pr√™ts/retours, r√©servations, centralisation ouvrages/adh√©rents.',
            repo:'', demo:''
          }
        ],

        // lifecycle
        init(){
          document.documentElement.classList.toggle('light', this.theme==='light');
          this.tick(); setInterval(()=>this.tick(), 1000);
        },
        tick(){
          const d = new Date();
          this.now = `${String(d.getHours()).padStart(2,'0')}:${String(d.getMinutes()).padStart(2,'0')}`;
        },
        toggleTheme(){
          this.theme = (this.theme==='dark') ? 'light' : 'dark';
          localStorage.setItem('theme', this.theme);
          document.documentElement.classList.toggle('light', this.theme==='light');
        },
        toggleWallpaper(){
          if(window.__wallpaper){
            window.__wallpaper.toggle();
            this.wallpaperPaused = window.__wallpaper.isPaused();
          }
        },
        openLink(url){ window.open(url, '_blank'); },

        // window actions
        openApp(key){
          const w=this.windows.find(x=>x.key===key); if(!w) return;
          w.open=true; w.minimized=false; this.focus(w.id);
        },
        close(id){ const w=this.windows.find(x=>x.id===id); if(!w) return; w.open=false; w.minimized=false; w.max=false; },
        minimize(id){ const w=this.windows.find(x=>x.id===id); if(!w) return; w.minimized=true; w.open=false; },
        maximize(id){
          const w=this.windows.find(x=>x.id===id); if(!w) return;
          if(!w.max){
            w.prev = {x:w.x, y:w.y, w:w.w, h:w.h};
            w.x=12; w.y=12; w.w=window.innerWidth-24; w.h=window.innerHeight-24-52;
            w.max=true; this.focus(id);
          } else {
            const p=w.prev||{x:100,y:100,w:600,h:400};
            w.x=p.x; w.y=p.y; w.w=p.w; w.h=p.h; w.max=false; this.focus(id);
          }
        },
        focus(id){ const w=this.windows.find(x=>x.id===id); if(!w) return; this.z+=1; w.z=this.z; },

        // dragging
        dragState:null,
        startDrag(e,id){
          const w=this.windows.find(x=>x.id===id); if(!w || w.max) return;
          this.focus(id);
          this.dragState = { id, offX:e.clientX-w.x, offY:e.clientY-w.y };
          document.body.classList.add('dragging');
        },
        onDrag(e){
          if(!this.dragState) return;
          const w = this.windows.find(x=>x.id===this.dragState.id); if(!w) return;
          const nx = e.clientX - this.dragState.offX;
          const ny = e.clientY - this.dragState.offY;
          const maxX = window.innerWidth - 120;
          const maxY = window.innerHeight - 120;
          w.x = Math.max(-w.w+160, Math.min(nx, maxX));
          w.y = Math.max(0, Math.min(ny, maxY));
        },
        endDrag(){
          if(!this.dragState) return;
          this.dragState = null;
          document.body.classList.remove('dragging');
        },

        copy(text){ navigator.clipboard.writeText(text); alert('Copied to clipboard!'); },
      }
    }
  </script>
</body>
</html>
